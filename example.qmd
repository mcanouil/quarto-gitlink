---
title: "Git Hosting Platform for Quarto"
subtitle: "Quarto Extension"
author:
  - name: "Mickaël CANOUIL, _Ph.D._"
    orcid: "0000-0002-3396-4549"
    url: "https://mickael.canouil.fr"
format:
  html:
    output-file: index
    toc: true
# Extension configuration
filters:
  - path: gitlink
    at: post-quarto
extensions:
  gitlink:
    platform: github
    base-url: https://github.com
    repository-name: mcanouil/quarto-gitlink
---

A Quarto extension that automatically converts Git hosting platform references (issues, pull requests, commits, users) into clickable links. Supports **GitHub**, **GitLab**, **Codeberg**, **Gitea**, and **Bitbucket**.

## Installation

```bash
quarto add mcanouil/quarto-gitlink
```

This will install the extension under the `_extensions` subdirectory.

If you're using version control, you will want to check in this directory.

## Usage

Add the extension to your document's YAML front matter:

```yaml
---
title: "My Document"
filters:
  - path: gitlink
    at: post-quarto
extensions:
  gitlink:
    platform: github              # Platform: github, gitlab, codeberg, gitea, bitbucket
    base-url: https://github.com   # Base URL (optional, auto-detected from platform)
    repository-name: owner/repo    # Repository name for relative references
---
```

- Old (<1.8.21):

  ```yml
  filters:
    - quarto
    - gitlink
  ```

- New (>=1.8.21):

  ```yml
  filters:
    - path: gitlink
      at: post-quarto
  ```

## Examples

### GitHub Examples

Configure for GitHub (default):

```yaml
extensions:
  gitlink:
    platform: github
    base-url: https://github.com
    repository-name: mcanouil/quarto-gitlink
```

Reference issues and pull requests:

- Simple issue reference: #1
- Cross-repository issue: mcanouil/quarto-gitlink#1
- Commit reference: cb0350d0316d1c420508338d02e56f5c8f907226
- Cross-repository commit: mcanouil/quarto-gitlink@cb0350d0316d1c420508338d02e56f5c8f907226
- User mention: @mcanouil
- GitHub-style issue: GH-1

## GitLab Examples

Configure for GitLab by changing the platform:

```yaml
extensions:
  gitlink:
    platform: gitlab
    base-url: https://gitlab.com
    repository-name: group/project
```

Then you can use:

- Issue reference: `#123`
- Merge request: `!456`
- Cross-repository issue: `group/project#123`
- Cross-repository merge request: `group/project!456`
- Commit reference: `a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- Cross-repository commit: `group/project@a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- User mention: `@username`

## Codeberg Examples

Configure for Codeberg by changing the platform:

```yaml
extensions:
  gitlink:
    platform: codeberg
    base-url: https://codeberg.org
    repository-name: owner/repo
```

Then you can use:

- Issue reference: `#123`
- Pull request reference: `#456` (same as issue in Codeberg/Forgejo)
- Cross-repository issue: `owner/repo#123`
- Commit reference: `a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- Cross-repository commit: `owner/repo@a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- User mention: `@username`

## Gitea Examples

Configure for Gitea:

```yaml
extensions:
  gitlink:
    platform: gitea
    base-url: https://gitea.com
    repository-name: owner/repo
```

Reference [Gitea Documentation](https://docs.gitea.com/usage/issues-prs/automatically-linked-references) for more details.

Then you can use:

- Issue reference: `#123`
- Pull request reference: `#456` (same as issue)
- Cross-repository issue: `owner/repo#123`
- Cross-repository pull request: `owner/repo#456`
- Commit reference: `a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- Cross-repository commit: `owner/repo@a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- User mention: `@username`

## Bitbucket Examples

Configure for Bitbucket by changing the platform:

```yaml
extensions:
  gitlink:
    platform: bitbucket
    base-url: https://bitbucket.org
    repository-name: workspace/repo
```

Bitbucket follows the [official markup syntax](https://support.atlassian.com/bitbucket-cloud/docs/markup-comments/) and requires "issue" or "pull request" keywords before the reference:

- Issue reference: `issue #123`
- Pull request reference: `pull request #456`
- Cross-repository issue: `issue workspace/repo#123`
- Cross-repository pull request: `pull request workspace/repo#456`
- Commit reference: `a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- Cross-repository commit: `workspace/repo@a5c3785dc2e23c1d8e7e4d9a8b91c6f234567890`
- User mention: `@username`

Note: Unlike GitHub or GitLab, Bitbucket requires the `issue` or `pull request` prefix to distinguish between different reference types.

## URL Processing

The extension automatically processes full URLs and converts them to short references:

**Input:** `https://github.com/owner/repo/issues/123`.

**Output:** `owner/repo#123` (or `#123` if it's the current repository).

## Platform-Specific Features

### GitHub

- Supports `GH-123` format for issues
- Pull requests use same format as issues (`#123`)
- Reference: [GitHub Autolinked references](https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/autolinked-references-and-urls)

### GitLab

- Merge requests use `!123` format
- Issues use `#123` format
- URLs include `/-/` in path
- Reference: [GitLab Flavored Markdown](https://docs.gitlab.com/ee/user/markdown.html#gitlab-specific-references)

### Codeberg/Forgejo

- Pull requests and issues both use `#123` format
- Based on Forgejo/Gitea architecture
- Reference: [Codeberg Documentation](https://docs.codeberg.org/)

### Gitea

- Issues use `#123` format
- Pull requests use `#123` format (same as issues)
- Supports both internal and external issue trackers
- Reference: [Gitea Documentation](https://docs.gitea.com/usage/issues-prs/automatically-linked-references)

### Bitbucket

- Issues use `issue #123` format (requires "issue" prefix)
- Pull requests use `pull request #456` format (requires "pull request" prefix)
- Cross-repository references: `issue workspace/repo#123` or `pull request workspace/repo#456`
- Pull request URLs use `/pull-requests/` path
- Follows [Bitbucket's official markup syntax](https://support.atlassian.com/bitbucket-cloud/docs/markup-comments/)

## Configuration Options

### Platform Detection

The extension automatically detects the platform based on the `platform` setting:

- `github` - GitHub (default)
- `gitlab` - GitLab
- `codeberg` - Codeberg
- `gitea` - Gitea
- `bitbucket` - Bitbucket

### Base URL

The `base-url` setting allows you to use self-hosted instances:

```yaml
extensions:
  gitlink:
    platform: gitlab
    base-url: https://gitlab.example.com
    repository-name: group/project
```

### Repository Name

The `repository-name` setting is used for relative references. If not provided, the extension will attempt to detect it from the Git remote:

```bash
git remote get-url origin
```

- Commit: `9ba12248`
- Cross-repository commit: `group/project@9ba12248`
- User mention: `@username`

## Platform Detection

The extension can auto-detect the platform from the base URL:

```yaml
extensions:
  gitlink:
    base-url: https://gitlab.example.com
    repository-name: group/project
    # platform will be auto-detected as 'gitlab'
```

Supported platform detection:

- `github.com` → github
- `gitlab.com` or any `gitlab.*` → gitlab  
- `codeberg.org` → codeberg
- `gitea.com` or any `gitea.*` → gitea
- `bitbucket.org` → bitbucket
