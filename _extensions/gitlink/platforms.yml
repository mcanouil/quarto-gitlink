# Platform Configuration for Gitlink Extension
# This file defines the built-in platform configurations and serves as a template
# for custom platform definitions.

platforms:
  github:
    display-name: GitHub
    base-url: https://github.com
    patterns:
      issue:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
        - "GH%-(%d+)"
      merge-request:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      commit:
        - "^(%x+)$"
        - "([^/]+/[^/@]+)@(%x+)"
        - "(%w+)@(%x+)"
      user: "@([%w%-%.]+)"
    url-formats:
      issue: "/{repo}/issues/{number}"
      merge-request: "/{repo}/pull/{number}"
      pull: "/{repo}/pull/{number}"
      commit: "/{repo}/commit/{sha}"
      user: "/{username}"

  gitlab:
    display-name: GitLab
    base-url: https://gitlab.com
    patterns:
      issue:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      merge-request:
        - "!(%d+)"
        - "([^/]+/[^/#]+)!(%d+)"
      commit:
        - "^(%x+)$"
        - "([^/]+/[^/@]+)@(%x+)"
        - "(%w+)@(%x+)"
      user: "@([%w%-%.]+)"
    url-formats:
      issue: "/{repo}/-/issues/{number}"
      merge-request: "/{repo}/-/merge_requests/{number}"
      pull: "/{repo}/-/merge_requests/{number}"
      commit: "/{repo}/-/commit/{sha}"
      user: "/{username}"

  codeberg:
    display-name: Codeberg
    base-url: https://codeberg.org
    patterns:
      issue:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      merge-request:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      commit:
        - "^(%x+)$"
        - "([^/]+/[^/@]+)@(%x+)"
        - "(%w+)@(%x+)"
      user: "@([%w%-%.]+)"
    url-formats:
      issue: "/{repo}/issues/{number}"
      merge-request: "/{repo}/pulls/{number}"
      pull: "/{repo}/pulls/{number}"
      commit: "/{repo}/commit/{sha}"
      user: "/{username}"

  gitea:
    display-name: Gitea
    base-url: https://gitea.com
    patterns:
      issue:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      merge-request:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      commit:
        - "^(%x+)$"
        - "([^/]+/[^/@]+)@(%x+)"
        - "(%w+)@(%x+)"
      user: "@([%w%-%.]+)"
    url-formats:
      issue: "/{repo}/issues/{number}"
      merge-request: "/{repo}/pulls/{number}"
      pull: "/{repo}/pulls/{number}"
      commit: "/{repo}/commit/{sha}"
      user: "/{username}"

  bitbucket:
    display-name: Bitbucket
    base-url: https://bitbucket.org
    patterns:
      issue:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      merge-request:
        - "#(%d+)"
        - "([^/]+/[^/#]+)#(%d+)"
      commit:
        - "^(%x+)$"
        - "([^/]+/[^/@]+)@(%x+)"
        - "(%w+)@(%x+)"
      user: "@([%w%-%.]+)"
    url-formats:
      issue: "/{repo}/issues/{number}"
      merge-request: "/{repo}/pull-requests/{number}"
      pull: "/{repo}/pull-requests/{number}"
      commit: "/{repo}/commits/{sha}"
      user: "/{username}"
